# Gitleaks Pre-Commit Hook

–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å–µ–∫—Ä–µ—Ç—ñ–≤ –ø–µ—Ä–µ–¥ –∫–æ–∂–Ω–∏–º `git commit` –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é [gitleaks](https://github.com/gitleaks/gitleaks).

**–†—ñ–≤–µ–Ω—å —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó: Middle** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è gitleaks + –∫–µ—Ä—É–≤–∞–Ω–Ω—è —á–µ—Ä–µ–∑ `git config`.

---

## –ú–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

- üîç –°–∫–∞–Ω—É—î –ª–∏—à–µ **staged —Ñ–∞–π–ª–∏** (—Ç–µ —â–æ –π–¥–µ —É –∫–æ–º—ñ—Ç)
- üì¶ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î** gitleaks –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ –û–°
- ‚öôÔ∏è  –ö–µ—Ä—É–≤–∞–Ω–Ω—è —á–µ—Ä–µ–∑ **git config** ‚Äî –≤–º–∏–∫–∞—Ç–∏/–≤–∏–º–∏–∫–∞—Ç–∏ –±–µ–∑ –≤–∏–¥–∞–ª–µ–Ω–Ω—è hook'–∞
- üõ°Ô∏è  –î–µ—Ç–∞–ª—å–Ω–∏–π –∑–≤—ñ—Ç —ñ–∑ –∑–∞–º–∞—Å–∫–æ–≤–∞–Ω–∏–º–∏ —Å–µ–∫—Ä–µ—Ç–∞–º–∏
- ‚úÖ –¢–µ—Å—Ç–æ–≤–∏–π —Å–∫—Ä–∏–ø—Ç –∑ 5 –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞–º–∏

---

## –í–∏–º–æ–≥–∏

- Python 3.10+
- Git
- –Ü–Ω—Ç–µ—Ä–Ω–µ—Ç (–¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è gitleaks)

---

## –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

```bash
# 1. –ö–ª–æ–Ω—É–≤–∞—Ç–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π
git clone git@github.com:YOUR_USERNAME/gitleaks-pre-commit-hook.git
cd gitleaks-pre-commit-hook

# 2. –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ hook
cp pre-commit .git/hooks/pre-commit
chmod +x .git/hooks/pre-commit
```

> **gitleaks –≤—Å—Ç–∞–Ω–æ–≤–ª—é–≤–∞—Ç–∏ –æ–∫—Ä–µ–º–æ –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ** ‚Äî hook –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –π–æ–≥–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—Ä–∏ –ø–µ—Ä—à–æ–º—É –∫–æ–º—ñ—Ç—ñ.

---

## –ö–µ—Ä—É–≤–∞–Ω–Ω—è —á–µ—Ä–µ–∑ git config

```bash
# –í–∏–º–∫–Ω—É—Ç–∏ hook (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥ –¥–ª—è —Ç–µ—Ä–º—ñ–Ω–æ–≤–æ–≥–æ –∫–æ–º—ñ—Ç—É)
git config hooks.gitleaks.enable false

# –£–≤—ñ–º–∫–Ω—É—Ç–∏ –∑–Ω–æ–≤—É
git config hooks.gitleaks.enable true

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ø–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞–Ω
git config hooks.gitleaks.enable
```

> –ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º hook **—É–≤—ñ–º–∫–Ω–µ–Ω–æ** ‚Äî –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ `git config` –Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ.

---

## –ü—Ä–æ–ø—É—Å—Ç–∏—Ç–∏ –ø–µ—Ä–µ–≤—ñ—Ä–∫—É –æ–¥–Ω–æ—Ä–∞–∑–æ–≤–æ

```bash
SKIP_GITLEAKS=1 git commit -m "..."
```

---

## –í–∏–∫–ª—é—á–µ–Ω–Ω—è –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ä—è–¥–∫–∞

```python
MY_VAR = "not-a-real-secret"  # gitleaks:allow
```

---

## –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

```bash
python3 test_hook.py
```

–ó–∞–ø—É—Å–∫–∞—î 5 —Ç–µ—Å—Ç—ñ–≤:
1. ‚ùå Telegram —Ç–æ–∫–µ–Ω —É Python —Ñ–∞–π–ª—ñ ‚Üí –±–ª–æ–∫—É—î—Ç—å—Å—è
2. ‚ùå Telegram —Ç–æ–∫–µ–Ω —É .env —Ñ–∞–π–ª—ñ ‚Üí –±–ª–æ–∫—É—î—Ç—å—Å—è
3. ‚úÖ –ë–µ–∑–ø–µ—á–Ω–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç —á–µ—Ä–µ–∑ `os.environ` ‚Üí –¥–æ–∑–≤–æ–ª—è—î—Ç—å—Å—è
4. ‚öôÔ∏è  `git config hooks.gitleaks.enable` ‚Üí true/false/default
5. üñ•Ô∏è  –í–∏–∑–Ω–∞—á–µ–Ω–Ω—è –û–° –¥–ª—è –∞–≤—Ç–æ-–≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

---

## –Ø–∫ –ø—Ä–∞—Ü—é—î –∞–≤—Ç–æ-–≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

| –û–° | –ú–µ—Ç–æ–¥ |
|-----|-------|
| macOS | `brew install gitleaks` |
| Linux | GitHub Releases binary |
| Windows | `winget install gitleaks` |

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é

```
‚îú‚îÄ‚îÄ pre-commit      ‚Üê hook —Å–∫—Ä–∏–ø—Ç (–∫–æ–ø—ñ—é–≤–∞—Ç–∏ —É .git/hooks/)
‚îú‚îÄ‚îÄ test_hook.py    ‚Üê —Ç–µ—Å—Ç–æ–≤–∏–π —Å–∫—Ä–∏–ø—Ç
‚îî‚îÄ‚îÄ README.md       ‚Üê —Ü—è —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è
```
